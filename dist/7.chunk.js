(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./src/shared/actions/blogs.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return m}));var r=n("./node_modules/axios/index.js"),o=n.n(r),a=n("./src/shared/types.js"),i=function(e){return function(t){return o.a.post("/api/blogcontent",{blog:e}).then((function(e){return e.data.blog})).then((function(e){t(function(e){return{type:a.g,blog:e}}(e))}))}},c=function(){return function(e){return o.a.get("/api/collections/usercollections").then((function(e){return e.data.blogcollections})).then((function(t){e(function(e){return{type:a.m,blogcollections:e}}(t))}))}},l=function(e){return function(t){return new Promise((function(n,r){o.a.get("/api/blogcontent",{params:{parameter:e}}).then((function(e){return e.data.blog})).then((function(e){t(function(e){return{type:a.i,blog:e}}(e)),n(e)}))}))}},u=function(e){return function(t){return o.a.post("/api/blogcontent/comments",{data:e}).then((function(e){return e.data.comment})).then((function(e){t(function(e){return{type:a.h,comment:e}}(e))}))}},s=function(e){return function(t){return o.a.get("/api/blogcontent/comments",{params:{blogid:e}}).then((function(e){return e.data.comments})).then((function(e){t(function(e){return{type:a.f,comments:e}}(e))}))}},d=function(e){return function(t){return o.a.get("/api/collections/related",{params:{category:e,limit:3}}).then((function(e){return e.data.blogcollections})).then((function(e){t(function(e){return{type:a.l,blogcollections:e}}(e))}))}},m=function(e){return function(t){return o.a.get("/api/collections/related",{params:{category:e,limit:20}}).then((function(e){return e.data.blogcollections})).then((function(e){t(function(e){return{type:a.b,blogcollections:e}}(e))}))}}},"./src/shared/component/slateEditor/FormatToolbar.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return y}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("./node_modules/@material-ui/icons/ArrowDropDown.js"),c=n.n(i);function l(){var e=s(["\n    display: inline-block;\n    overflow:hidden;\n    padding:2px;\n    }\n"]);return l=function(){return e},e}function u(){var e=s(["\n\tborder-bottom: solid 1.7px rgba(199,198,255,0.15);\n\tbackground:rgb(121, 210, 206);\n  position:relative;\n  width:inherit;\n  max-width:inherit;\n  z-index:1;\n"]);return u=function(){return e},e}function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=a.b.div(u()),m=a.b.div(l()),p=function(e){return o.a.createElement(d,{id:"toolbar"},o.a.createElement("div",{style:{padding:"10px 5px"}},e.children))},f=function(e){return o.a.createElement(m,null,o.a.createElement("button",{style:{cursor:"pointer",border:"none",outline:"none",backgroundColor:"inherit",letterSpacing:"2px",fontSize:"1.2em"},onClick:function(e){e.preventDefault;var t=document.getElementById("dropdownbtn");"block"==t.style.display?t.style.display="none":t.style.display="block"}},e.header,o.a.createElement(c.a,null)),o.a.createElement("ul",{id:"dropdownbtn",style:{position:"absolute",display:"none",background:"white",border:"1px solid #cecece",listStyle:"none",zIndex:"2",padding:"15px",margin:"5px"},onClick:function(e){document.getElementById("dropdownbtn").style.display="none"}},e.children&&e.children.map((function(e,t){return o.a.createElement("li",{key:"dropdown-".concat(t)},e)}))))},b=function(e){var t=e.editor,n=e.type,r=e.icon,a=t.value.activeMarks.some((function(e){return e.type===n}));return o.a.createElement("div",{onMouseDown:function(e){e.preventDefault(),t.toggleMark(n)},style:{float:"left",cursor:"pointer",color:"black",backgroundColor:"".concat(a?"#e4e4e4":"rgb(121, 210, 206)"),padding:"0 5px"}},"string"==typeof r.component?o.a.createElement(Icon,null,r.component):o.a.createElement(r.component,null))},h=function(e){var t=e.editor,n=e.type,r=e.icon,a=t.value.activeMarks.some((function(e){return e.type===n}));return o.a.createElement("div",{onMouseDown:function(e){e.preventDefault(),t.toggleMark(n)},style:{padding:"0 10px",cursor:"pointer",backgroundColor:"".concat(a?"#e4e4e4":"#fdfaf5")}},"string"==typeof r.component?o.a.createElement(Icon,null,r.component):o.a.createElement(r.component,null))},g=function(e){var t=e.icon,n=e.handler;return o.a.createElement("div",{onMouseDown:n,style:{padding:"0 10px",cursor:"pointer",backgroundColor:"white"}},"string"==typeof t.component?o.a.createElement(Icon,null,t.component):o.a.createElement(t.component,null))},y=function(e){var t=e.editor,n=e.icon,r=e.handler,a=t.value.inlines.some((function(e){return"link"===e.type}));return o.a.createElement("div",{onMouseDown:r,style:{float:"left",cursor:"pointer",color:"black",backgroundColor:"".concat(a?"#e4e4e4":"rgb(121, 210, 206)"),padding:"0 5px"}},"string"==typeof n.component?o.a.createElement(Icon,null,n.component):o.a.createElement(n.component,null))}},"./src/shared/container/commentPage/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./node_modules/react-router/esm/react-router.js"),l=n("./node_modules/react-redux/es/index.js"),u=n("./src/shared/actions/blogs.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./node_modules/slate-react/lib/slate-react.es.js"),m=n("./node_modules/slate/lib/slate.es.js"),p=n("./node_modules/is-hotkey/lib/index.js"),f=n("./node_modules/@material-ui/icons/FormatBold.js"),b=n.n(f),h=n("./node_modules/@material-ui/icons/FormatItalic.js"),g=n.n(h),y=n("./node_modules/@material-ui/icons/FormatUnderlined.js"),v=n.n(y),k=n("./node_modules/@material-ui/icons/Code.js"),w=n.n(k),E=n("./node_modules/@material-ui/icons/FormatQuote.js"),j=n.n(E),x=n("./node_modules/@material-ui/icons/FormatListBulleted.js"),O=n.n(x),B=n("./node_modules/@material-ui/icons/FormatListNumbered.js"),_=n.n(B),C=n("./src/shared/component/slateEditor/FormatToolbar.js"),P=n("./node_modules/slate-html-serializer/lib/slate-html-serializer.es.js");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={object:"value",document:{object:"document",nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",text:""}]}]}},R="paragraph",F=Object(p.isKeyHotkey)("mod+b"),A=Object(p.isKeyHotkey)("mod+i"),T=Object(p.isKeyHotkey)("mod+u"),L=Object(p.isKeyHotkey)("mod+`"),H={p:"paragraph",list:"list-item",ul:"bulleted-list",ol:"numbered-list",h1:"heading-one",h2:"heading-two",h3:"h3",h4:"h4",img:"image",blockquote:"block-quote"},K={strong:"bold",em:"italic",u:"underlined",del:"strikethrough",code:"code"},W={a:"link"},J=[{deserialize:function(e,t){var n=H[e.tagName.toLowerCase()];if(n)return{object:"block",type:n,data:{className:e.getAttribute("class"),src:e.getAttribute("src")},nodes:t(e.childNodes)}},serialize:function(e,t){if("block"==e.object)switch(e.type){case"paragraph":return o.a.createElement("p",{className:e.data.get("className")},t);case"list-item":return o.a.createElement("li",null,t);case"bulleted-list":return o.a.createElement("ul",null,t);case"numbered-list":return o.a.createElement("ol",null,t);case"heading-one":return o.a.createElement("h1",null,t);case"heading-two":return o.a.createElement("h2",null,t);case"h3":return o.a.createElement("h3",null,t);case"h4":return o.a.createElement("h4",null,t);case"image":return o.a.createElement("figure",null,o.a.createElement("img",{style:{display:"block",maxWidth:"100%",maxHeight:"20em",boxShadow:"0 0 0 2px blue"},src:e.data.get("src")}));case"block-quote":return o.a.createElement("blockquote",null,t)}}},{deserialize:function(e,t){var n=K[e.tagName.toLowerCase()];if(n)return{object:"mark",type:n,nodes:t(e.childNodes)}},serialize:function(e,t){if("mark"==e.object)switch(e.type){case"bold":return o.a.createElement("strong",null,t);case"italic":return o.a.createElement("em",null,t);case"underlined":return o.a.createElement("u",null,t);case"strikethrough":return o.a.createElement("del",null,t);case"code":return o.a.createElement("code",null,t)}}},{deserialize:function(e,t){var n=W[e.tagName.toLowerCase()];if(n)return{object:"inline",type:n,data:{className:e.getAttribute("class"),href:e.getAttribute("href")},nodes:t(e.childNodes)}},serialize:function(e,t){if("inline"==e.object)switch(e.type){case"link":return o.a.createElement("a",{href:e.data.get("href")},t)}}}],U=new P.a({rules:J}),Q=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,a=(e=D(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==S(a)&&"function"!=typeof a?z(r):a,I(z(n),"state",{value:m.n.fromJSON(N)}),I(z(n),"hasMark",(function(e){return n.state.value.activeMarks.some((function(t){return t.type===e}))})),I(z(n),"hasBlock",(function(e){return n.state.value.blocks.some((function(t){return t.type===e}))})),I(z(n),"ref",(function(e){n.editor=e})),I(z(n),"submit",(function(e){e.preventDefault();var t=U.serialize(n.state.value);n.props.submit(t)})),I(z(n),"renderMarkButton",(function(e,t){var r=n.hasMark(e);return o.a.createElement("div",{onMouseDown:function(t){return n.onClickMark(t,e)},style:{padding:"0 10px",cursor:"pointer",backgroundColor:"".concat(r?"#e4e4e4":"#fdfaf5")}},"string"==typeof t.component?o.a.createElement("span",null,t.component):o.a.createElement(t.component,null))})),I(z(n),"renderBlockButton",(function(e,t){var r=n.hasBlock(e);if(["numbered-list","bulleted-list"].includes(e)){var a=n.state.value,i=a.document,c=a.blocks;if(c.size>0){var l=i.getParent(c.first().key);r=n.hasBlock("list-item")&&l&&l.type===e}}return o.a.createElement("div",{onMouseDown:function(t){return n.onClickBlock(t,e)},style:{padding:"0 10px",cursor:"pointer",backgroundColor:"".concat(r?"#e4e4e4":"#fdfaf5")}},"string"==typeof t.component?o.a.createElement("span",null,t.component):o.a.createElement(t.component,null))})),I(z(n),"renderBlock",(function(e,t,n){var r=e.attributes,a=e.children;switch(e.node.type){case"block-quote":return o.a.createElement("blockquote",r,a);case"bulleted-list":return o.a.createElement("ul",r,a);case"heading-one":return o.a.createElement("h1",r,a);case"heading-two":return o.a.createElement("h2",r,a);case"list-item":return o.a.createElement("li",r,a);case"numbered-list":return o.a.createElement("ol",r,a);default:return n()}})),I(z(n),"renderMark",(function(e,t,n){var r=e.children,a=e.mark,i=e.attributes;switch(a.type){case"bold":return o.a.createElement("strong",i,r);case"code":return o.a.createElement("code",i,r);case"italic":return o.a.createElement("em",i,r);case"underlined":return o.a.createElement("u",i,r);default:return n()}})),I(z(n),"onChange",(function(e){var t=e.value;n.setState({value:t})})),I(z(n),"onKeyDown",(function(e,t,n){var r;if(F(e))r="bold";else if(A(e))r="italic";else if(T(e))r="underlined";else{if(!L(e))return n();r="code"}e.preventDefault(),t.toggleMark(r)})),I(z(n),"onClickMark",(function(e,t){e.preventDefault(),n.editor.toggleMark(t)})),I(z(n),"onClickBlock",(function(e,t){e.preventDefault();var r=z(n).editor,o=r.value,a=o.document;if("bulleted-list"!==t&&"numbered-list"!==t){var i=n.hasBlock(t);n.hasBlock("list-item")?r.setBlocks(i?R:t).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):r.setBlocks(i?R:t)}else{var c=n.hasBlock("list-item"),l=o.blocks.some((function(e){return!!a.getClosest(e.key,(function(e){return e.type===t}))}));c&&l?r.setBlocks(R).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):c?r.unwrapBlock("bulleted-list"===t?"numbered-list":"bulleted-list").wrapBlock(t):r.setBlocks("list-item").wrapBlock(t)}})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(C.a,null,o.a.createElement("div",{style:{backgroundColor:"#fdfaf5",display:"flex",alignItems:"center",flexDirection:"row",flexWrap:"wrap"}},this.renderMarkButton("bold",{component:b.a}),this.renderMarkButton("italic",{component:g.a}),this.renderMarkButton("underlined",{component:v.a}),this.renderMarkButton("code",{component:w.a}),this.renderBlockButton("heading-one",{component:"h1"}),this.renderBlockButton("heading-two",{component:"h2"}),this.renderBlockButton("block-quote",{component:j.a}),this.renderBlockButton("numbered-list",{component:_.a}),this.renderBlockButton("bulleted-list",{component:O.a}))),o.a.createElement(d.a,{spellCheck:!0,autoFocus:!0,placeholder:"Write your comment ... ",ref:this.ref,value:this.state.value,onChange:this.onChange,onKeyDown:this.onKeyDown,renderBlock:this.renderBlock,renderMark:this.renderMark}),o.a.createElement("button",{onClick:this.submit},"submit"))}}])&&M(n.prototype,r),a&&M(n,a),t}(o.a.Component);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(){var e=ce(["\n  box-shadow: 0 1px 4px rgba(0,0,0,0.1);\n  padding:5px;\n  white-space: pre-wrap;\n      /* CSS3 */\n      white-space: -moz-pre-wrap;\n      /* Firefox */\n      white-space: -pre-wrap;\n      /* Opera <7 */\n      white-space: -o-pre-wrap;\n      /* Opera 7 */\n      word-wrap: break-word;\n      /* IE */\n\n  font-size:calc(0.8em + .15vw);\n  @media only screen and (min-width:768px){\n    font-size:13px;\n  }\n"]);return ne=function(){return e},e}function re(){var e=ce(["\n  background:white;\n  border:1px solid rgba(0,0,0,0.9);\n  box-shadow: 0 1px 4px rgba(0,0,0,0.04);\n  padding:1em;\n  margin-top:2em;\n  border-radius:2px;\n  \n"]);return re=function(){return e},e}function oe(){var e=ce(["\n  width:100%;\n  margin:0 auto;\n  @media only screen and (min-width:768px){\n    width:50%;\n  }\n\n  \n"]);return oe=function(){return e},e}function ae(){var e=ce(["\n    background:rgba(121, 210, 206,0.1);\n    padding:20px;\n     h4{\n      font-family: proxima-nova,Proxima Nova,sans-serif;\n      font-size: calc(14px + .25vw);\n      color:#665;\n    }\n\n    .username{\n       text-transform:uppercase;\n      font-family: proxima-nova,Proxima Nova,sans-serif;\n      font-size:calc(14px + .25vw);\n      color:#FF4B2B;\n      }\n\n    .date{\n        text-transform:uppercase;\n        font-family:proxima-nova,Proxima Nova,sans-serif;\n        font-size: calc(10px + .15vw);\n        color:#665;\n        margin-top:0px;\n    }\n\n"]);return ae=function(){return e},e}function ie(){var e=ce(["\n    padding:20px;\n    b{\n        font-family:'Itim', cursive;\n        color:#334;\n        text-transform:uppercase;\n    }\n    p{\n      font-family:Poppins,Helvetica,Arial,sans-serif;\n      font-size: calc(14px + .20vw);\n      color:#665;\n  }\n"]);return ie=function(){return e},e}function ce(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var le=s.b.div(ie()),ue=s.b.div(ae()),se=s.b.div(oe()),de=s.b.div(re()),me=s.b.div(ne()),pe=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=Z(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==G(o)&&"function"!=typeof o?$(r):o,te($(n),"componentDidMount",(function(){n.onInit(n.props),window.addEventListener("scroll",n.handleScroll)})),te($(n),"componentWillUnmount",(function(){window.removeEventListener("scroll",n.handleScroll)})),te($(n),"handleScroll",(function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=document.getElementById("topbar");n.style.position=t>50?"relative":"fixed"})),te($(n),"onChange",(function(e){return n.setState({data:X({},n.state.data,te({},e.target.name,e.target.value))})})),te($(n),"submit",(function(e){var t={comment:e,blogid:n.props.match.params.blogid};n.props.createComment(t)})),te($(n),"onInit",(function(e){e.fetchcomments(n.props.match.params.blogid)})),te($(n),"dateFormatter",(function(e){var t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"long",day:"2-digit",year:"numeric"}).format(t)})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.comments,r=t.blog;return this.props.match.params.blogid,o.a.createElement("div",{style:{margin:"0",width:"100%"}},o.a.createElement(le,null,o.a.createElement(se,null,o.a.createElement(de,null,o.a.createElement("b",null,r&&r.title),o.a.createElement("p",null," By ",r&&r.username," ")))),o.a.createElement(ue,null,o.a.createElement(se,null,o.a.createElement(de,null,o.a.createElement(Q,{submit:this.submit}))),o.a.createElement(se,null,o.a.createElement("h4",null,"Comments"),n&&n.map((function(t,n){return o.a.createElement(de,{key:n},o.a.createElement("h4",{className:"username"},t.username),o.a.createElement("p",{className:"date"},e.dateFormatter(t.createdAt)," "),o.a.createElement(me,{dangerouslySetInnerHTML:{__html:t.comment_string}}))})))))}}])&&Y(n.prototype,r),a&&Y(n,a),t}(o.a.Component);pe.propTypes={blog:i.a.object.isRequired,fetchcomments:i.a.func.isRequired,match:i.a.shape({params:i.a.shape({blogid:i.a.string.isRequired}).isRequired}).isRequired,comments:i.a.arrayOf(i.a.shape({_id:i.a.string.isRequired,comment_string:i.a.string.isRequired,userId:i.a.string.isRequired,blogId:i.a.string.isRequired,username:i.a.string.isRequired,votes:i.a.number.isRequired,createdAt:i.a.string.isRequired,updatedAt:i.a.string.isRequired})).isRequired};t.default=Object(c.g)(Object(l.b)((function(e){return{blog:e.blog,comments:e.comments}}),{createComment:u.a,fetchcomments:u.e})(pe))}}]);